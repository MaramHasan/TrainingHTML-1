//var a = queryString.split("|");
var idx = document.URL.indexOf('?');
var pairs = document.URL.substring(idx+1, document.URL.length).split('|');
var i= pairs[0];

function createNode(element) {
    return document.createElement(element);
  }
  var obj={
  "results":[
      { 
          "productID" : "KL2432",
          "productName": "Hugo Boss men's suit ",
          "productPrice" :  2500, 
          "productPriceFormatted" : "DKK 2.500,00" ,
          "inStock" : true,
          "productImg":"https://akamai-scene7.garnethill.com/is/image/garnethill/49187_SADD?&defaultImage=49187_main",
          "href":"/riley-heeled-buckle-boots/shoes-accessories/new-arrivals/572383?uniqueId=572383" ,
          "swatches": [
              {	"swatchDefAttCode":"BLCK",
                  "swatchName":"Black",
                  "swatchAttrName":"color",
                  "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/48611_BLCK_SW?$SLI_MiniSwatch$"}}
              ]
    } ,
    
    { 
          "productID" : "KL2432",
          "productName": "Hugo Boss men's suit",
          "productPrice" :  2500, 
          "productPriceFormatted" : "DKK 2.500,00" ,
          "inStock" : true,
          "productImg":"https://akamai-scene7.garnethill.com/is/image/garnethill/49187_SADD?&defaultImage=49187_main",
          "href":"/riley-heeled-buckle-boots/shoes-accessories/new-arrivals/572383?uniqueId=572383" ,
          "swatches": [
              {	"swatchDefAttCode":"BLCK",
                  "swatchName":"Black",
                  "swatchAttrName":"color",
                  "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/48611_BLCK_SW?$SLI_MiniSwatch$"}}
              ]
      } ,
      { 
          "productID" : "KL2432",
          "productName": "Hugo Boss men's suit",
          "productPrice" :  2500, 
          "productPriceFormatted" : "DKK 2.500,00" ,
          "inStock" : true,
          "productImg":"https://akamai-scene7.garnethill.com/is/image/garnethill/49187_SADD?&defaultImage=49187_main",
          "href":"/riley-heeled-buckle-boots/shoes-accessories/new-arrivals/572383?uniqueId=572383" ,
          "swatches": [
                  {"swatchDefAttCode":"SADD",
                  "swatchName":"Distressed Saddle",
                  "swatchAttrName":"color",
                  "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/49187_SADD_SW?$SLI_MiniSwatch$"}},
                  {"swatchDefAttCode":"Mahogany",
                  "swatchName":"Mahogany",
                  "swatchAttrName":"color",
                  "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/49187_MAHO_SW?$SLI_MiniSwatch$"}}
              ]
    },
    { 
          "productID" : "KL2432",
          "productName": "Hugo Boss men's suit",
          "productPrice" :  2500, 
          "productPriceFormatted" : "DKK 2.500,00" ,
          "inStock" : true,
          "productImg":"https://akamai-scene7.garnethill.com/is/image/garnethill/49187_SADD?&defaultImage=49187_main",
          "href":"/riley-heeled-buckle-boots/shoes-accessories/new-arrivals/572383?uniqueId=572383" ,
          "swatches": [
                  {"swatchDefAttCode":"SADD",
                  "swatchName":"Distressed Saddle",
                  "swatchAttrName":"color",
          "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/49187_SADD_SW?$SLI_MiniSwatch$"}},
          {"swatchDefAttCode":"SADD",
                  "swatchName":"Distressed Saddle",
                  "swatchAttrName":"color",
                  "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/49187_SADD_SW?$SLI_MiniSwatch$"}},
          {"swatchDefAttCode":"SADD",
                  "swatchName":"Distressed Saddle",
                  "swatchAttrName":"color",
          "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/49187_SADD_SW?$SLI_MiniSwatch$"}},
          {	"swatchDefAttCode":"BLCK",
          "swatchName":"Black",
          "swatchAttrName":"color",
          "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/48611_BLCK_SW?$SLI_MiniSwatch$"}},
          {"swatchDefAttCode":"SADD",
                  "swatchName":"Distressed Saddle",
                  "swatchAttrName":"color",
          "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/49187_SADD_SW?$SLI_MiniSwatch$"}},
          {"swatchDefAttCode":"SADD",
                  "swatchName":"Distressed Saddle",
                  "swatchAttrName":"color",
          "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/49187_SADD_SW?$SLI_MiniSwatch$"}},
          {"swatchDefAttCode":"SADD",
                  "swatchName":"Distressed Saddle",
                  "swatchAttrName":"color",
                  "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/49187_SADD_SW?$SLI_MiniSwatch$"}},
                  {"swatchDefAttCode":"Mahogany",
                  "swatchName":"Mahogany",
                  "swatchAttrName":"color",
          "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/49187_MAHO_SW?$SLI_MiniSwatch$"}},
          {	"swatchDefAttCode":"BLCK",
                  "swatchName":"Black",
                  "swatchAttrName":"color",
          "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/48611_BLCK_SW?$SLI_MiniSwatch$"}},
          {"swatchDefAttCode":"SADD",
                  "swatchName":"Distressed Saddle",
                  "swatchAttrName":"color",
                  "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/49187_SADD_SW?$SLI_MiniSwatch$"}},
                  {"swatchDefAttCode":"Mahogany",
                  "swatchName":"Mahogany",
                  "swatchAttrName":"color",
          "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/49187_MAHO_SW?$SLI_MiniSwatch$"}},
          {	"swatchDefAttCode":"BLCK",
                  "swatchName":"Black",
                  "swatchAttrName":"color",
          "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/48611_BLCK_SW?$SLI_MiniSwatch$"}},
          {"swatchDefAttCode":"SADD",
                  "swatchName":"Distressed Saddle",
                  "swatchAttrName":"color",
          "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/49187_SADD_SW?$SLI_MiniSwatch$"}},
          {"swatchDefAttCode":"SADD",
                  "swatchName":"Distressed Saddle",
                  "swatchAttrName":"color",
                  "img":{"src": "https://akamai-scene7.garnethill.com/is/image/garnethill/49187_SADD_SW?$SLI_MiniSwatch$"}}
                  
              
              ]
    },
    
  
  ]
  
  };
  const ProductContent=document.getElementById('ProductContent');
        /******************Variables**********************/
        let c = obj.results[i];
        let img = createNode("img");
        let div = createNode("div");
        let divImg = createNode("div");
        let p = createNode("li");
        let p2 = createNode("li");
        let p3 = createNode("li");
        let span = createNode("span");
        let divs = createNode("div");
        let form = createNode("form");
        let inc = createNode("button");
        let dec = createNode("button");
        let incbtn=createNode("div");
        let decbtn=createNode("div");
        let span1=createNode("span");
        let input = createNode("input");
        let  cart = createNode("button");
        let heart=createNode("li");
        let base=createNode("i");
        let a = createNode("a");
        let divc=createNode("div");
        let divc1=createNode("div");
        let divc2=createNode("div");
        
        /******************Variables**********************/
    /*Counter BOX */
        input.type='number';
        input.value=0;
        incbtn.innerHTML=' + ';
        decbtn.innerHTML=' - ';
        inc.style='border:none';
        dec.style='border:none';
        incbtn.value='Increment';
        decbtn.value="Decrement";
        inc.className='value-button';
        dec.className='value-button';
        incbtn.id='increase';
        decbtn.id='decrease';
        inc.tabindex='0';
        dec.tabindex='0';
        inc.append(incbtn);
        dec.append(decbtn);
        input.id='number';
                        //Increment Event 
                inc.onclick=function(){
                       
                var value = parseInt(document.getElementById('number').value, 10);
                value = isNaN(value) ? 0 : value;
                value++;
                document.getElementById('number').value = value;
                return false; 
                };
                //Decrement Event 
                dec.onclick=function(){
                var value = parseInt(document.getElementById('number').value, 10);
                value = isNaN(value) ? 0 : value;
                value < 1 ? value = 1 : '';
                value--;
                document.getElementById('number').value = value;
                return false; 
                };
        form.append(dec,input,inc);
     /*Ending Counter BOX */  
     /*Swatches Declaration */
        let sw =[];
        let swbtn=[];
        let n = 0;
        let r = 0 ;
        let btn =createNode('button');
        let btn1 =createNode('button');

                 /*Fist Step Swatch */
                btn1.id='hide';
                btn1.style='display:none';
                div.className='col-lg-5';
                divImg.className='col-lg-5';
                divImg.id='divImg';
                p.id='ProdName';
                p2.id='ProdPrice';
                p3.id='SwatchSel';
                p3.innerHTML='Selected Swathce:'+c.swatches[0].swatchDefAttCode;
                img.src=c.productImg ;
                img.alt='Product Image';
                divImg.append(img);
                p.innerHTML=c.productName;
                p2.innerHTML=c.productPrice+'$';
                  /*First Step Swatch */

let k = c.swatches.length;
var indx=0 ; 
var t=0;
// .............looping for swatch ......
        for ( ;n<k;n++){ 
                /*...........Show 6 and More ............ */ 
                if(n<6){
                
                sw[n]=createNode("img");
                swbtn[n]=createNode("button");
                swbtn[n].append(sw[n]);
                swbtn[n].style="border:none;width:fit-content;height:fit-content;margin:0";
                sw[n].setAttribute('role','image') ;
                sw[n].src=c.swatches[n].img.src;
                sw[n].id=indx;
                swbtn[n].id=indx;
                sw[n].alt=c.swatches[n].swatchDefAttCode;
                sw[n].tabindex='0';
                sw[0].classList.add('clicked');
                                /*........SELECT ONE SWATCH AND STYLE IT .......... */
                                swbtn[n].onclick=function(){
                                        p3.innerHTML='Selected Swathce:'+c.swatches[this.id].swatchDefAttCode;
                                       // sw[this.id].alt='c.swatches[this.id].swatchDefAttCode';
                                                for(;t<n;t++){
                                                sw[t].classList.remove('clicked');
                                                }
                                                sw[this.id].classList.add('clicked');
                                        t=0;
                                        return false ; 
                                }
                divs.append(swbtn[n]);   
                indx++;
                }

                else{
                btn.tabindex='0';
                btn.textContent='More';
                btn.id='MyBtn';
                        /*........MORE BUTTON ACTION........ */
                        btn.onclick=function (){
                        n=6 ;
                        btn.style='display:none';
                                for (;n<k;n++){
                                        r++;
                                sw[n]=createNode("img");
                                swbtn[n]=createNode("button");
                                swbtn[n].append(sw[n]);
                                swbtn[n].style="border:none;width:fit-content;height:fit-content;margin:0";
                                sw[n].src=c.swatches[n].img.src;
                                sw[n].id=indx;
                                swbtn[n].id=indx;
                                sw[n].alt=c.swatches[n].swatchDefAttCode;
                                sw[n].tabindex='0';
                                        /*........SELECT ONE SWATCH AND STYLE IT .......... */
                                        swbtn[n].onclick=function(){
                                                p3.innerHTML='Selected Swathce:'+c.swatches[this.id].swatchDefAttCode;
                                                        for(;t<n;t++){
                                                                sw[t].classList.remove('clicked');
                                                        }
                                        sw[this.id].classList.add('clicked');
                                        t=0;
                                        return false;
                                                }
                                divs.append(swbtn[n]);  
                                indx++;
                                btn1.style='display:inline-block';
                                btn1.tabindex='0';
                                btn1.textContent='Hide';
                                divs.append(btn1);
                                }
                        
                        };
                         /*........HIDE BUTTON ACTION........ */
                        btn1.onclick=function (){
                        btn1.style='display:none';
                        while(r != 0 ){
                        swbtn[n-r].remove();
                        r--;
                                btn.style='display:inline-block';
                        }
                        
                        };
                        divs.append(btn);
                        break;
                        }
        }
        //APPENDING COUNTER , ADD TO CART BUTTON , SWATCHES TO THE PAGE 
        divs.id='sw';
        cart.id='cart';
        cart.innerHTML='ADD TO CART';
        span.append(form,cart);
        base.className="fas fa-heart";
        heart.append(base);
        a.innerHTML='ADD TO LIST';
        a.href="#";
        span1.append(heart,a);
        div.append(p,p2,p3,divs,span,span1);

//************************ADA**********************/
let divacc1=createNode("button");
let divacc2=createNode("button");
let divacc3=createNode("button");
let divacc4=createNode("button");
let hh1=createNode("h3");
let hh2=createNode("h3");
let hh3=createNode("h3");
let hh4=createNode("h3");
//END CREATING ELEMENTS 
// ADA ATTRIBUTE DECLARATION 
divacc1.setAttribute('aria-expanded',"false");
divacc2.setAttribute('aria-expanded',"false") ;
divacc3.setAttribute('aria-expanded',"false") ;
divacc4.setAttribute('aria-expanded',"false") ;
divacc1.setAttribute('aria-contorls','pan') ;
divacc2.setAttribute('aria-contorls','pan1') ;
divacc3.setAttribute('aria-contorls','pan2') ;
divacc4.setAttribute('aria-contorls','pan3') ;
divacc1.setAttribute('role','button') ;
divacc2.setAttribute('role','button') ;
divacc3.setAttribute('role','button') ;
divacc4.setAttribute('role','button') ;
divacc1.id='accordion1';
divacc2.id='accordion2';
divacc3.id='accordion3';
divacc4.id='accordion4';
let panel1=createNode("div");
let panel2=createNode("div");
let panel3=createNode("div");
let panel4=createNode("div");
panel1.id='pan';
panel2.id='pan1';
panel3.id='pan2';
panel4.id='pan3';
panel1.setAttribute('aria-labelledby','accordion1') ;
panel2.setAttribute('aria-labelledby','accordion2') ;
panel3.setAttribute('aria-labelledby','accordion3') ;
panel4.setAttribute('aria-labelledby','accordion4') ;
panel1.setAttribute('role','region') ;
panel2.setAttribute('role','region') ;
panel3.setAttribute('role','region') ;
panel4.setAttribute('role','region') ;
let p11=createNode("p");
let p22=createNode("p");
let p33=createNode("p");
let p44=createNode("p");
divacc1.className='accordion';
divacc2.className='accordion';
divacc3.className='accordion';
divacc4.className='accordion';
panel1.className='panel';
panel2.className='panel';
panel3.className='panel';
panel4.className='panel';
/***********************ADA**************************/
divacc1.innerHTML='PRODUCTS DETAILS';
divacc2.innerHTML='FREE SHIPPING IN THE CONTIGUOUS US';
divacc3.innerHTML='FREE RETURNS WITHIN 30 DAYS';
divacc4.innerHTML='QUALITY CERTIFICAIONS';
p11.innerHTML='Tote bags are the trendy and fashionable accessory of this era. “Tote”, which means “to carry” is designed specifically for this purpose – to easily carry your belongings while making a fashion statement. Mindfulness of the environment coupled with a personalized representation of who you are – this is what tote bags stand for.';
p22.innerHTML='Orders that qualify for this free shipping offer can only be delivered to locations in the Continental United States.';
p33.innerHTML='FREE RETURNS WITHIN 30 DAYS FREE RETURNS WITHIN 30 DAYS';
p44.innerHTML='Product quality certification is conformity assessment applied by certification bodies demonstrating products in accordance with relevant technical specifications, compulsory requests and standards in technical specification';
hh1.append(divacc1);
hh2.append(divacc2);
hh3.append(divacc3);
hh4.append(divacc4);
panel1.append(p11);
panel2.append(p22);
panel3.append(p33);
panel4.append(p44);
//APPED THE ACCORDION TO THE PAGE 
let main = createNode("div");
main.id='main';
main.append(divacc1,panel1,divacc2,panel2,divacc3,panel3,divacc4,panel4);
div.append(main);
ProductContent.append(divImg,div); 
                // ACTION OF APPEAR AND DISAPPEARE OF ACCORDION 
                var acc = document.getElementsByClassName("accordion");
                var i;
                for (i = 0; i < acc.length; i++) {
                acc[i].tabindex='0';
                
                acc[i].addEventListener("click", function(e) {
                this.classList.toggle("active");
                var panel = this.nextElementSibling;
                if (panel.style.display === "block") {
                        e.target.setAttribute('aria-expanded',"false");
                panel.style.display = "none"; 
                panel.style.height="0px";
                } else {
                e.target.setAttribute('aria-expanded',true);
                panel.style.display = "block";
                panel.style.height="50px"; 
                }
                });
                }